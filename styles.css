:root{
  --bg:#0f0e0f;
  --table:#1b1616;
  --accent:#c6a49a;
  --shadow: 0 18px 40px rgba(0,0,0,0.7);
  --item-base-size:110px;
  --grain-opacity:0.06;
  font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  color-scheme: dark;
}

*{box-sizing:border-box}
html,body{height:100%;margin:0}
body{
  background: linear-gradient(180deg,#050406 0%, #0b0b0c 60%);
  display:flex;
  align-items:center;
  justify-content:center;
  padding:28px;
  color:#eee;
  overflow:hidden;
}

/* soft film grain layer */
body::before{
  content:"";
  pointer-events:none;
  position:fixed;
  inset:0;
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="400" height="400"><filter id="g"><feTurbulence baseFrequency="0.9" numOctaves="2" stitchTiles="stitch"/><feColorMatrix type="saturate" values="0"/></filter><rect width="100%" height="100%" filter="url(%23g)" opacity="0.06" /></svg>');
  opacity:var(--grain-opacity);
  mix-blend-mode:overlay;
}

/* vignette overlay */
#vignette{
  pointer-events:none;
  position:absolute;
  inset:0;
  background: radial-gradient(60% 60% at 50% 40%, rgba(0,0,0,0) 0%, rgba(0,0,0,0.28) 50%, rgba(0,0,0,0.7) 100%);
  mix-blend-mode:multiply;
  z-index:1;
}

/* scene */
.scene{width:100%;max-width:1200px; position:relative; z-index:2}
.table{
  background: linear-gradient(180deg, rgba(23,20,20,1) 0%, rgba(36,30,30,1) 100%);
  border-radius:14px;
  padding:28px;
  box-shadow: 0 20px 70px rgba(0,0,0,0.85), inset 0 1px 0 rgba(255,255,255,0.02);
  position:relative;
  min-height:700px;
  overflow:hidden;
  border: 1px solid rgba(255,255,255,0.03);
}

/* header */
.header{position:absolute;top:14px;left:18px; z-index:6}
.header h2{margin:0;font-size:20px;color:var(--accent); letter-spacing:0.6px; text-shadow:0 2px 12px rgba(0,0,0,0.7)}
.header p{margin:6px 0 0;font-size:13px;color:#bfb6b6}

/* footer */
.footer{position:absolute;bottom:12px;right:18px;font-size:12px;color:#b7b1b1; z-index:6}

/* items surface */
.items{
  position:relative;
  height:100%;
  width:100%;
  z-index:2;
  perspective:900px;
}

/* item */
.item{
  position:absolute;
  display:block;
  width:var(--item-base-size);
  height:var(--item-base-size);
  background:transparent;
  border-radius:8px;
  text-decoration:none;
  color:#fff;
  transition: transform 220ms cubic-bezier(.2,.9,.3,1), box-shadow 220ms;
  user-select:none;
  -webkit-user-select:none;
  will-change: transform;
  padding:6px;
  transform-origin: 50% 50%;
  cursor:pointer;
  z-index:10;
  mix-blend-mode: normal;
}

/* realistic drop shadow (pseudo 3D) */
.item::after{
  content:"";
  position:absolute;
  left:4%;
  right:4%;
  bottom:-8%;
  height:28%;
  border-radius:50%;
  filter:blur(18px);
  background: linear-gradient(180deg, rgba(0,0,0,0.35), rgba(0,0,0,0.55));
  transform: scaleX(1.05);
  z-index:-1;
  opacity:0.95;
}

/* image fill */
.item img{
  width:100%;
  height:100%;
  object-fit:contain;
  display:block;
  pointer-events:none;
  filter: drop-shadow(0 6px 12px rgba(0,0,0,0.6));
}

/* slightly vary size for realism if desired via attributes */
.item[data-size="small"]{ width:86px; height:86px; }
.item[data-size="large"]{ width:140px; height:140px; }

/* rotation stored in --rot; hover composes */
.item{
  transform: rotateX(var(--tiltX, 0deg)) rotate(var(--rot, 0deg)) translateZ(var(--z, 0px));
}

/* hover & focus: lift, tilt, and desaturate surrounding table a touch */
.item:hover, .item:focus{
  transform: rotateX(calc(var(--tiltX, 0deg) - 6deg)) rotate(var(--rot, 0deg)) translateY(-10px) translateZ(18px) scale(1.06);
  z-index:999;
  outline: none;
}

/* clicked feedback */
.item.clicked{ transform: translateY(2px) scale(0.995); }

/* diagnostic overlay */
.diag{
  position:fixed;
  left:12px;
  bottom:12px;
  background:rgba(0,0,0,0.75);
  color:#fff;
  padding:8px 10px;
  border-radius:8px;
  font-size:13px;
  z-index:9999;
  max-width:360px;
  box-shadow: 0 6px 18px rgba(0,0,0,0.6);
}
.diag ul{ margin:6px 0 0; padding-left:18px; max-height:220px; overflow:auto; }

/* small responsive tweaks */
@media (max-width:900px){
  :root{ --item-base-size:88px; }
  .table{ min-height:560px; padding:18px; }
}
