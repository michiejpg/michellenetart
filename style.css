:root{
  --bg:#efe6da;
  --shelf:#6b4a2c;
  --accent:#9c2b2b;
  --muted:#5a5a5a;
  --book-gap:1rem;
  --max-width:1100px;
}

*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;}
body{
  background: radial-gradient(1200px 400px at 10% 10%, rgba(0,0,0,0.04), transparent),
              linear-gradient(180deg, #fff 0%, var(--bg) 100%);
  color:#222;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:2rem;
}

/* Scene wrapper */
.scene{width:100%;max-width:var(--max-width);}

/* Entry header */
.entry{
  text-align:center;
  padding:3rem 1rem;
  border-radius:12px;
  background:linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.6));
  box-shadow: 0 10px 30px rgba(0,0,0,0.08);
}
.shop-title{
  font-size:2.1rem;
  margin:0;
  letter-spacing:0.02em;
}
.subtitle{color:var(--muted);margin:0.5rem 0 1.5rem}

/* Enter CTA */
.enter-cta{
  background:var(--accent);
  color:#fff;
  border:0;
  padding:.8rem 1.6rem;
  font-weight:600;
  border-radius:999px;
  cursor:pointer;
  box-shadow:0 6px 14px rgba(156,43,43,0.35);
  transition:transform .18s ease, box-shadow .18s;
}
.enter-cta:active{transform:translateY(1px)}
.enter-cta:focus{outline:3px solid rgba(156,43,43,0.18)}

/* Bookroom - initially hidden */
.bookroom.hidden{display:none}
.bookroom{margin-top:1.5rem;}

/* Shelf look */
.shelf{
  background:linear-gradient(180deg,#f8f2ea,#efe6da);
  border-radius:10px;
  padding:2rem;
  box-shadow:0 8px 30px rgba(0,0,0,0.08);
  position:relative;
}
.shelf-top{height:12px;background:linear-gradient(90deg,#caa58a,#b68462);border-radius:8px;}
.shelf-bottom{height:36px;background:var(--shelf);border-radius:6px;margin-top:1rem;box-shadow:inset 0 6px 12px rgba(0,0,0,0.12)}

/* Books row */
.books{
  display:flex;
  gap:var(--book-gap);
  padding:1.2rem 0;
  align-items:flex-end;
  justify-content:flex-start;
  overflow-x:auto;
  scroll-snap-type:x proximity;
}
.book{
  display:flex;
  flex-direction:column;
  align-items:center;
  text-decoration:none;
  color:inherit;
  scroll-snap-align:center;
  transition:transform .28s cubic-bezier(.2,.9,.3,1), filter .28s;
  cursor:pointer;
  width:120px;
}
.book:focus{outline:3px solid rgba(0,0,0,0.12)}
.book:hover{transform:translateY(-10px) scale(1.03); filter:brightness(1.05)}

/* Spine + cover styling */
.spine{
  width:48px;
  height:160px;
  border-radius:4px 4px 2px 2px;
  display:flex;
  align-items:center;
  justify-content:center;
  color:#fff;
  font-weight:700;
  font-size:12px;
  padding:6px;
  text-align:center;
  transform-origin:center;
  box-shadow: 0 6px 16px rgba(0,0,0,0.18);
}
.cover{
  width:120px;
  height:140px;
  margin-top:10px;
  background:linear-gradient(180deg, rgba(255,255,255,0.05), rgba(0,0,0,0.06));
  border-radius:6px;
  display:flex;
  align-items:center;
  justify-content:center;
  color:var(--muted);
  font-size:12px;
  box-shadow: 0 10px 26px rgba(0,0,0,0.08);
}

/* Different spine colors for variety */
.spine-1{background:linear-gradient(180deg,#7f3f3f,#5a2323)}
.spine-2{background:linear-gradient(180deg,#304b5a,#17313a)}
.spine-3{background:linear-gradient(180deg,#3b2f5a,#22163e)}
.spine-4{background:linear-gradient(180deg,#6b3f1d,#3e2410)}
.spine-5{background:linear-gradient(180deg,#2f6b4a,#163d26)}
.spine-6{background:linear-gradient(180deg,#5a4b2b,#35270f)}
.spine-7{background:linear-gradient(180deg,#4a3b5a,#2b2037)}
.spine-8{background:linear-gradient(180deg,#8b4a7a,#5a2c4e)}
.spine-9{background:linear-gradient(180deg,#506b8b,#23364f)}
.spine-10{background:linear-gradient(180deg,#7a5a33,#4a2e0f)}

/* Book text on spine rotated to look like a spine */
.book-text{
  transform: rotate(-90deg);
  display:block;
  width:160px;
  text-align:center;
  font-size:12px;
  line-height:1;
}

/* Overlay for transition */
.overlay{
  position:fixed;
  inset:0;
  background:linear-gradient(180deg,rgba(0,0,0,0.0), rgba(0,0,0,0.65));
  opacity:0;
  pointer-events:none;
  transition:opacity .5s ease;
  z-index:60;
}
.overlay.show{opacity:1; pointer-events:auto}

/* Book page content (shared layout) */
.book-page{
  max-width:900px;
  margin:2rem auto;
  background:#fff;
  padding:2rem;
  border-radius:10px;
  box-shadow:0 14px 40px rgba(0,0,0,0.12);
}
.book-hero{display:flex;gap:1.5rem;align-items:flex-start}
.book-cover{
  width:200px;height:300px;border-radius:8px;box-shadow:0 12px 30px rgba(0,0,0,0.12);
  display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700;padding:1rem}
.book-meta h2{margin:0 0 .4rem 0}
.book-meta p{margin:.2rem 0;color:var(--muted)}
.back-link{display:inline-block;margin-top:1rem;background:transparent;border:2px solid var(--accent);color:var(--accent);padding:.5rem 1rem;border-radius:999px;text-decoration:none}
.back-link:focus{outline:3px solid rgba(156,43,43,0.12)}
/* Responsive tweaks */
@media (max-width:720px){
  .book-hero{flex-direction:column;align-items:center}
  .book{width:100px}
  .spine{height:130px}
  .cover{height:110px}
}
